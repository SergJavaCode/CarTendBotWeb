<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–æ–±–∏–ª—è</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>/* —Å—Ç–∏–ª–∏ –æ—Å—Ç–∞—é—Ç—Å—è –ø—Ä–µ–∂–Ω–∏–º–∏ */</style>
</head>
<body>
    <div class="container">
        <h1>üöó –í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–æ–±–∏–ª—è</h1>
        
        <form id="carForm">
            <!-- –ø–æ–ª—è —Ñ–æ—Ä–º—ã -->
        </form>
    </div>

    <script>
        // –§—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è inline WebApp
        function sendDataToBot() {
            const carData = {
                year: document.getElementById('year').value.trim(),
                vin: document.getElementById('vin').value.trim(),
                plate: document.getElementById('plate').value.trim(),
                engine: document.getElementById('engine').value.trim(),
                mileage: parseInt(document.getElementById('mileage').value) || 0,
                color: document.getElementById('color').value.trim()
            };
            
            // –í–∞–ª–∏–¥–∞—Ü–∏—è
            if (!carData.year || !carData.vin || !carData.plate || !carData.engine || !carData.color) {
                showError('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è!');
                return;
            }
            
            if (window.Telegram && window.Telegram.WebApp) {
                try {
                    const dataToSend = {
                        type: "car_data",
                        data: carData
                    };
                    
                    // –î–õ–Ø INLINE WEBAPP: –ø—Ä–æ—Å—Ç–æ –∑–∞–∫—Ä—ã–≤–∞–µ–º, –¥–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ –±–æ—Ç
                    Telegram.WebApp.close();
                    
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞:', error);
                    showError('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö');
                }
            }
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            if (window.Telegram?.WebApp) {
                Telegram.WebApp.ready();
                Telegram.WebApp.expand();
            }
        });
    </script>
</body>
</html>
